{"ast":null,"code":"import _taggedTemplateLiteral from\"/Users/parthzanwar/Desktop/Space Apps/public/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6,_templateObject7,_templateObject8,_templateObject9,_templateObject0,_templateObject1,_templateObject10,_templateObject11,_templateObject12,_templateObject13,_templateObject14,_templateObject15,_templateObject16;import React,{useState,useEffect}from'react';import styled from'styled-components';import{downloadImages,downloadFromUrl,createSampleDataset,getDownloadedImages}from'../services/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const DownloaderContainer=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  background: rgba(255, 255, 255, 0.05);\\n  border-radius: 15px;\\n  padding: 25px;\\n  backdrop-filter: blur(10px);\\n  border: 1px solid rgba(255, 255, 255, 0.1);\\n\"])));const DownloaderHeader=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  display: flex;\\n  align-items: center;\\n  justify-content: space-between;\\n  margin-bottom: 20px;\\n\"])));const DownloaderTitle=styled.h3(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  font-size: 18px;\\n  font-weight: 600;\\n  color: #ffffff;\\n  display: flex;\\n  align-items: center;\\n  gap: 10px;\\n\"])));const DownloadSection=styled.div(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n  margin-bottom: 25px;\\n  padding: 20px;\\n  background: rgba(255, 255, 255, 0.05);\\n  border-radius: 10px;\\n  border: 1px solid rgba(255, 255, 255, 0.1);\\n\"])));const SectionTitle=styled.h4(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n  font-size: 14px;\\n  color: #ffffff;\\n  margin-bottom: 15px;\\n  display: flex;\\n  align-items: center;\\n  gap: 8px;\\n\"])));const InputGroup=styled.div(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\n  margin-bottom: 15px;\\n\"])));const Label=styled.label(_templateObject7||(_templateObject7=_taggedTemplateLiteral([\"\\n  display: block;\\n  font-size: 12px;\\n  color: rgba(255, 255, 255, 0.7);\\n  margin-bottom: 5px;\\n  text-transform: uppercase;\\n  letter-spacing: 0.5px;\\n\"])));const Input=styled.input(_templateObject8||(_templateObject8=_taggedTemplateLiteral([\"\\n  width: 100%;\\n  padding: 10px 15px;\\n  background: rgba(255, 255, 255, 0.1);\\n  border: 1px solid rgba(255, 255, 255, 0.2);\\n  border-radius: 8px;\\n  color: #ffffff;\\n  font-size: 14px;\\n  \\n  &:focus {\\n    outline: none;\\n    border-color: #00ffff;\\n    background: rgba(255, 255, 255, 0.15);\\n  }\\n  \\n  &::placeholder {\\n    color: rgba(255, 255, 255, 0.5);\\n  }\\n\"])));const Select=styled.select(_templateObject9||(_templateObject9=_taggedTemplateLiteral([\"\\n  width: 100%;\\n  padding: 10px 15px;\\n  background: rgba(255, 255, 255, 0.1);\\n  border: 1px solid rgba(255, 255, 255, 0.2);\\n  border-radius: 8px;\\n  color: #ffffff;\\n  font-size: 14px;\\n  \\n  &:focus {\\n    outline: none;\\n    border-color: #00ffff;\\n  }\\n  \\n  option {\\n    background: #1a1a2e;\\n    color: #ffffff;\\n  }\\n\"])));const Button=styled.button(_templateObject0||(_templateObject0=_taggedTemplateLiteral([\"\\n  background: \",\";\\n  border: \",\";\\n  padding: 10px 20px;\\n  border-radius: 20px;\\n  color: \",\";\\n  font-size: 12px;\\n  font-weight: 600;\\n  cursor: pointer;\\n  transition: all 0.3s ease;\\n  width: 100%;\\n  \\n  &:hover {\\n    transform: translateY(-2px);\\n    box-shadow: 0 5px 15px rgba(0, 255, 255, 0.3);\\n  }\\n  \\n  &:disabled {\\n    opacity: 0.5;\\n    cursor: not-allowed;\\n    transform: none;\\n  }\\n\"])),props=>props.primary?'linear-gradient(135deg, #00ffff, #0080ff)':'rgba(255, 255, 255, 0.1)',props=>props.primary?'none':'1px solid rgba(255, 255, 255, 0.3)',props=>props.primary?'#000':'#ffffff');const StatusMessage=styled.div(_templateObject1||(_templateObject1=_taggedTemplateLiteral([\"\\n  padding: 10px 15px;\\n  border-radius: 8px;\\n  margin-top: 15px;\\n  font-size: 12px;\\n  background: \",\";\\n  border: 1px solid \",\";\\n  color: \",\";\\n\"])),props=>props.type==='success'?'rgba(0, 255, 0, 0.2)':props.type==='error'?'rgba(255, 0, 0, 0.2)':'rgba(255, 170, 0, 0.2)',props=>props.type==='success'?'#00ff00':props.type==='error'?'#ff0000':'#ffaa00',props=>props.type==='success'?'#00ff00':props.type==='error'?'#ff0000':'#ffaa00');const ProgressBar=styled.div(_templateObject10||(_templateObject10=_taggedTemplateLiteral([\"\\n  width: 100%;\\n  height: 4px;\\n  background: rgba(255, 255, 255, 0.1);\\n  border-radius: 2px;\\n  overflow: hidden;\\n  margin-top: 10px;\\n\"])));const ProgressFill=styled.div(_templateObject11||(_templateObject11=_taggedTemplateLiteral([\"\\n  height: 100%;\\n  width: \",\"%;\\n  background: linear-gradient(90deg, #00ffff, #0080ff);\\n  border-radius: 2px;\\n  transition: width 0.3s ease;\\n\"])),props=>props.progress);const DownloadedImages=styled.div(_templateObject12||(_templateObject12=_taggedTemplateLiteral([\"\\n  margin-top: 20px;\\n\"])));const ImageGrid=styled.div(_templateObject13||(_templateObject13=_taggedTemplateLiteral([\"\\n  display: grid;\\n  grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));\\n  gap: 15px;\\n  margin-top: 15px;\\n\"])));const ImageCard=styled.div(_templateObject14||(_templateObject14=_taggedTemplateLiteral([\"\\n  background: rgba(255, 255, 255, 0.05);\\n  border-radius: 8px;\\n  padding: 10px;\\n  border: 1px solid rgba(255, 255, 255, 0.1);\\n  cursor: pointer;\\n  transition: all 0.3s ease;\\n  \\n  &:hover {\\n    background: rgba(255, 255, 255, 0.1);\\n    transform: translateY(-2px);\\n  }\\n\"])));const ImagePreview=styled.img(_templateObject15||(_templateObject15=_taggedTemplateLiteral([\"\\n  width: 100%;\\n  height: 100px;\\n  object-fit: cover;\\n  border-radius: 5px;\\n  margin-bottom: 8px;\\n\"])));const ImageInfo=styled.div(_templateObject16||(_templateObject16=_taggedTemplateLiteral([\"\\n  font-size: 10px;\\n  color: rgba(255, 255, 255, 0.7);\\n  text-align: center;\\n\"])));function ImageDownloader(_ref){let{onImageSelect}=_ref;const[downloadCount,setDownloadCount]=useState(10);const[downloadSource,setDownloadSource]=useState('mixed');const[customUrl,setCustomUrl]=useState('');const[customFilename,setCustomFilename]=useState('');const[isDownloading,setIsDownloading]=useState(false);const[downloadProgress,setDownloadProgress]=useState(0);const[statusMessage,setStatusMessage]=useState('');const[downloadedImages,setDownloadedImages]=useState([]);const[isLoading,setIsLoading]=useState(false);useEffect(()=>{loadDownloadedImages();},[]);const loadDownloadedImages=async()=>{try{setIsLoading(true);const response=await getDownloadedImages();setDownloadedImages(response.images||[]);}catch(error){console.error('Error loading downloaded images:',error);}finally{setIsLoading(false);}};const handleDownloadImages=async()=>{try{setIsDownloading(true);setDownloadProgress(0);setStatusMessage('Downloading images...');const response=await downloadImages({count:downloadCount,source:downloadSource});if(response.success){setStatusMessage(\"Successfully downloaded \".concat(response.downloaded_count,\" images!\"));setDownloadProgress(100);await loadDownloadedImages();}else{setStatusMessage('Download failed. Please try again.');}}catch(error){console.error('Download error:',error);setStatusMessage(\"Error: \".concat(error.message));}finally{setIsDownloading(false);setTimeout(()=>setStatusMessage(''),5000);}};const handleDownloadFromUrl=async()=>{if(!customUrl.trim()){setStatusMessage('Please enter a valid URL');return;}try{setIsDownloading(true);setStatusMessage('Downloading image from URL...');const response=await downloadFromUrl({url:customUrl,filename:customFilename||undefined});if(response.success){setStatusMessage(\"Successfully downloaded: \".concat(response.filename));setCustomUrl('');setCustomFilename('');await loadDownloadedImages();}else{setStatusMessage('Failed to download image from URL');}}catch(error){console.error('URL download error:',error);setStatusMessage(\"Error: \".concat(error.message));}finally{setIsDownloading(false);setTimeout(()=>setStatusMessage(''),5000);}};const handleCreateSampleDataset=async()=>{try{setIsDownloading(true);setStatusMessage('Creating sample dataset...');const response=await createSampleDataset({total_images:downloadCount});if(response.success){setStatusMessage(\"Created sample dataset with \".concat(response.dataset_count,\" images!\"));await loadDownloadedImages();}else{setStatusMessage('Failed to create sample dataset');}}catch(error){console.error('Sample dataset error:',error);setStatusMessage(\"Error: \".concat(error.message));}finally{setIsDownloading(false);setTimeout(()=>setStatusMessage(''),5000);}};const handleImageClick=imagePath=>{if(onImageSelect){onImageSelect(imagePath);}};return/*#__PURE__*/_jsxs(DownloaderContainer,{children:[/*#__PURE__*/_jsx(DownloaderHeader,{children:/*#__PURE__*/_jsx(DownloaderTitle,{children:\"\\uD83D\\uDCE5 Download Space Images\"})}),/*#__PURE__*/_jsxs(DownloadSection,{children:[/*#__PURE__*/_jsx(SectionTitle,{children:\"\\uD83C\\uDF0C Download from Online Sources\"}),/*#__PURE__*/_jsxs(InputGroup,{children:[/*#__PURE__*/_jsx(Label,{children:\"Number of Images\"}),/*#__PURE__*/_jsx(Input,{type:\"number\",min:\"1\",max:\"50\",value:downloadCount,onChange:e=>setDownloadCount(parseInt(e.target.value)||1)})]}),/*#__PURE__*/_jsxs(InputGroup,{children:[/*#__PURE__*/_jsx(Label,{children:\"Image Source\"}),/*#__PURE__*/_jsxs(Select,{value:downloadSource,onChange:e=>setDownloadSource(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"mixed\",children:\"Mixed Sources (Recommended)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"nasa_apod\",children:\"NASA Astronomy Picture of the Day\"}),/*#__PURE__*/_jsx(\"option\",{value:\"nasa_images\",children:\"NASA Image Library\"}),/*#__PURE__*/_jsx(\"option\",{value:\"space_debris\",children:\"Space Debris Images\"})]})]}),/*#__PURE__*/_jsx(Button,{primary:true,onClick:handleDownloadImages,disabled:isDownloading,children:isDownloading?'Downloading...':'Download Images'}),isDownloading&&/*#__PURE__*/_jsx(ProgressBar,{children:/*#__PURE__*/_jsx(ProgressFill,{progress:downloadProgress})})]}),/*#__PURE__*/_jsxs(DownloadSection,{children:[/*#__PURE__*/_jsx(SectionTitle,{children:\"\\uD83D\\uDD17 Download from Custom URL\"}),/*#__PURE__*/_jsxs(InputGroup,{children:[/*#__PURE__*/_jsx(Label,{children:\"Image URL\"}),/*#__PURE__*/_jsx(Input,{type:\"url\",placeholder:\"https://example.com/image.jpg\",value:customUrl,onChange:e=>setCustomUrl(e.target.value)})]}),/*#__PURE__*/_jsxs(InputGroup,{children:[/*#__PURE__*/_jsx(Label,{children:\"Custom Filename (optional)\"}),/*#__PURE__*/_jsx(Input,{type:\"text\",placeholder:\"my_image.jpg\",value:customFilename,onChange:e=>setCustomFilename(e.target.value)})]}),/*#__PURE__*/_jsx(Button,{onClick:handleDownloadFromUrl,disabled:isDownloading||!customUrl.trim(),children:isDownloading?'Downloading...':'Download from URL'})]}),/*#__PURE__*/_jsxs(DownloadSection,{children:[/*#__PURE__*/_jsx(SectionTitle,{children:\"\\uD83D\\uDCCA Create Sample Dataset\"}),/*#__PURE__*/_jsx(Button,{onClick:handleCreateSampleDataset,disabled:isDownloading,children:isDownloading?'Creating...':'Create Sample Dataset'})]}),statusMessage&&/*#__PURE__*/_jsx(StatusMessage,{type:statusMessage.includes('Success')?'success':statusMessage.includes('Error')?'error':'info',children:statusMessage}),/*#__PURE__*/_jsxs(DownloadedImages,{children:[/*#__PURE__*/_jsxs(SectionTitle,{children:[\"\\uD83D\\uDCC1 Downloaded Images (\",downloadedImages.length,\")\"]}),isLoading?/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'center',padding:'20px',color:'rgba(255, 255, 255, 0.5)'},children:\"Loading images...\"}):downloadedImages.length>0?/*#__PURE__*/_jsx(ImageGrid,{children:downloadedImages.map((imagePath,index)=>/*#__PURE__*/_jsxs(ImageCard,{onClick:()=>handleImageClick(imagePath),children:[/*#__PURE__*/_jsx(ImagePreview,{src:\"http://localhost:5001/\".concat(imagePath),alt:\"Downloaded image \".concat(index+1),onError:e=>{e.target.style.display='none';}}),/*#__PURE__*/_jsx(ImageInfo,{children:imagePath.split('/').pop()})]},index))}):/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'center',padding:'20px',color:'rgba(255, 255, 255, 0.5)'},children:\"No images downloaded yet. Use the options above to download some images!\"})]})]});}export default ImageDownloader;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}